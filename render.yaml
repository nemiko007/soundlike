services:
  # --- バックエンドサービス (Go) ---
  - type: web
    name: backend
    env: docker
    # Dockerfileがある場所を指定
    dockerfilePath: ./backend/Dockerfile
    dockerContext: ./backend
    # ディスクの設定
    disk:
      # soundlike.db を永続化するためのディスク
      name: soundlike-db
      mountPath: /var/lib/soundlike
      sizeGB: 1 # 1GBで十分
  # --- フロントエンドサービス (Nginx) ---
  - type: web
    name: frontend
    env: docker
    # Dockerfileがある場所を指定
    dockerfilePath: ./frontend/Dockerfile
    dockerContext: ./frontend